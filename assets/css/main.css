/**
 * CoreSystem Platform — Main Stylesheet
 * Full design system: tokens, reset, layout, components, utilities, animations.
 * Pure CSS3 — no frameworks, no preprocessors.
 */

/* ============================================================
   1. DESIGN TOKENS
   ============================================================ */
:root {
  /* Brand Colors */
  --primary:        #2563EB;
  --primary-dark:   #1D4ED8;
  --primary-light:  #EFF6FF;
  --primary-rgb:    37, 99, 235;
  --accent:         #7C3AED;
  --accent-light:   #F5F3FF;

  /* Neutrals */
  --gray-50:  #F8FAFC;
  --gray-100: #F1F5F9;
  --gray-200: #E2E8F0;
  --gray-300: #CBD5E1;
  --gray-400: #94A3B8;
  --gray-500: #64748B;
  --gray-600: #475569;
  --gray-700: #334155;
  --gray-800: #1E293B;
  --gray-900: #0F172A;

  /* Semantic */
  --success:       #10B981;
  --success-light: #D1FAE5;
  --warning:       #F59E0B;
  --warning-light: #FEF3C7;
  --danger:        #EF4444;
  --danger-light:  #FEE2E2;
  --info:          #0EA5E9;
  --info-light:    #E0F2FE;

  /* Surface (overridden in dark mode) */
  --bg:       var(--gray-50);
  --surface:  #FFFFFF;
  --surface-2: var(--gray-100);
  --border:   var(--gray-200);
  --text:     var(--gray-900);
  --text-2:   var(--gray-500);
  --text-3:   var(--gray-400);

  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0,0,0,.05);
  --shadow-sm: 0 1px 3px rgba(0,0,0,.06), 0 1px 2px rgba(0,0,0,.04);
  --shadow:    0 4px 6px -1px rgba(0,0,0,.07), 0 2px 4px -2px rgba(0,0,0,.04);
  --shadow-md: 0 10px 15px -3px rgba(0,0,0,.08), 0 4px 6px -4px rgba(0,0,0,.04);
  --shadow-lg: 0 20px 25px -5px rgba(0,0,0,.09), 0 8px 10px -6px rgba(0,0,0,.04);
  --shadow-xl: 0 25px 50px -12px rgba(0,0,0,.18);

  /* Typography */
  --font-sans: system-ui, -apple-system, 'Segoe UI', Helvetica, Arial, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', 'Courier New', monospace;

  /* Spacing scale */
  --s1: .25rem;  --s2: .5rem;   --s3: .75rem;  --s4: 1rem;
  --s5: 1.25rem; --s6: 1.5rem;  --s8: 2rem;    --s10: 2.5rem;
  --s12: 3rem;   --s16: 4rem;   --s20: 5rem;   --s24: 6rem;

  /* Layout */
  --container-max:  1200px;
  --container-wide: 1400px;
  --nav-height:     64px;
  --sidebar-w:      260px;
  --ce-palette-w:   240px;
  --ce-props-w:     280px;

  /* Radius */
  --radius-sm:   4px;
  --radius:      8px;
  --radius-md:   12px;
  --radius-lg:   16px;
  --radius-xl:   24px;
  --radius-full: 9999px;

  /* Transitions */
  --t-fast: 120ms ease;
  --t:      200ms ease;
  --t-slow: 350ms ease;

  /* Z-index */
  --z-nav:   100;
  --z-modal: 1000;
  --z-toast: 1100;
}

/* Dark mode overrides */
[data-theme="dark"] {
  --bg:       #0B1120;
  --surface:  #111827;
  --surface-2:#1F2937;
  --border:   #1F2937;
  --text:     #F1F5F9;
  --text-2:   #94A3B8;
  --text-3:   #64748B;
  --primary-light: rgba(37,99,235,.18);
  --accent-light:  rgba(124,58,237,.18);
  --shadow-sm: 0 1px 3px rgba(0,0,0,.4);
  --shadow:    0 4px 6px -1px rgba(0,0,0,.4);
  --shadow-md: 0 10px 15px -3px rgba(0,0,0,.5);
  --shadow-lg: 0 20px 25px -5px rgba(0,0,0,.55);
}

/* ============================================================
   2. RESET
   ============================================================ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; -webkit-text-size-adjust: 100%; tab-size: 2; }
body { font-family: var(--font-sans); background: var(--bg); color: var(--text); line-height: 1.6; min-height: 100vh; -webkit-font-smoothing: antialiased; }
img, video, svg { display: block; max-width: 100%; }
input, button, select, textarea { font: inherit; }
button { cursor: pointer; background: none; border: none; }
a { color: var(--primary); text-decoration: none; }
ul, ol { list-style: none; }
h1,h2,h3,h4,h5,h6 { font-weight: 700; line-height: 1.25; letter-spacing: -.025em; }

/* ============================================================
   3. BASE
   ============================================================ */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--surface-2); }
::-webkit-scrollbar-thumb { background: var(--gray-300); border-radius: 3px; }
[data-theme="dark"] ::-webkit-scrollbar-thumb { background: var(--gray-700); }

::selection { background: rgba(var(--primary-rgb),.2); }

/* ============================================================
   4. LAYOUT
   ============================================================ */
.container { max-width: var(--container-max); margin: 0 auto; padding: 0 var(--s6); }
.container-wide { max-width: var(--container-wide); margin: 0 auto; padding: 0 var(--s6); }

.grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--s6); }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--s6); }
.grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--s6); }
.grid-auto { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: var(--s6); }

.flex { display: flex; }
.flex-col { flex-direction: column; }
.flex-wrap { flex-wrap: wrap; }
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.justify-end { justify-content: flex-end; }
.gap-2 { gap: var(--s2); } .gap-3 { gap: var(--s3); } .gap-4 { gap: var(--s4); }
.gap-6 { gap: var(--s6); } .gap-8 { gap: var(--s8); }

/* Page section spacing */
.section { padding: var(--s24) 0; }
.section-sm { padding: var(--s12) 0; }
.section-lg { padding: var(--s24) 0 calc(var(--s24) * 1.5); }

/* ============================================================
   5. COMPONENTS
   ============================================================ */

/* — Navbar — */
.navbar {
  position: sticky; top: 0; z-index: var(--z-nav);
  height: var(--nav-height); display: flex; align-items: center;
  background: rgba(255,255,255,.85);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border-bottom: 1px solid var(--border);
  transition: box-shadow var(--t), background var(--t);
}
.navbar.is-scrolled { box-shadow: var(--shadow-md); }
[data-theme="dark"] .navbar { background: rgba(11,17,32,.9); }

.navbar .container { display: flex; align-items: center; justify-content: space-between; }
.nav-brand { font-size: 1.2rem; font-weight: 800; color: var(--text); letter-spacing: -.04em; }
.nav-brand .accent { color: var(--primary); }
.nav-menu { display: flex; align-items: center; gap: var(--s6); }
.nav-link { font-size: .875rem; font-weight: 500; color: var(--text-2); transition: color var(--t); }
.nav-link:hover, .nav-link.is-active { color: var(--primary); }
.nav-toggle { display: none; flex-direction: column; gap: 4px; padding: 6px; border-radius: var(--radius-sm); }
.nav-toggle span { display: block; width: 20px; height: 2px; background: var(--text); border-radius: 2px; transition: var(--t); }
.nav-toggle.is-open span:nth-child(1) { transform: translateY(6px) rotate(45deg); }
.nav-toggle.is-open span:nth-child(2) { opacity: 0; }
.nav-toggle.is-open span:nth-child(3) { transform: translateY(-6px) rotate(-45deg); }

/* — Buttons — */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: .4rem;
  padding: .55rem 1.3rem; border-radius: var(--radius); border: 1.5px solid transparent;
  font-size: .875rem; font-weight: 600; line-height: 1; white-space: nowrap;
  cursor: pointer; transition: all var(--t); text-decoration: none; position: relative;
}
.btn:disabled { opacity: .45; cursor: not-allowed; pointer-events: none; }
.btn:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

.btn-primary { background: var(--primary); color: #fff; border-color: var(--primary); }
.btn-primary:hover { background: var(--primary-dark); border-color: var(--primary-dark); transform: translateY(-1px); box-shadow: var(--shadow-md); }
.btn-secondary { background: var(--surface-2); color: var(--text); border-color: var(--border); }
.btn-secondary:hover { background: var(--border); }
.btn-outline { background: transparent; color: var(--primary); border-color: var(--primary); }
.btn-outline:hover { background: var(--primary); color: #fff; transform: translateY(-1px); }
.btn-ghost { background: transparent; color: var(--text-2); border-color: transparent; }
.btn-ghost:hover { background: var(--surface-2); color: var(--text); }
.btn-danger { background: var(--danger); color: #fff; border-color: var(--danger); }
.btn-danger:hover { opacity: .88; }
.btn-light { background: #fff; color: var(--primary); border-color: transparent; }
.btn-light:hover { background: var(--gray-100); }

.btn-lg { padding: .75rem 1.75rem; font-size: 1rem; }
.btn-sm { padding: .35rem .9rem; font-size: .8rem; }
.btn-xs { padding: .2rem .6rem; font-size: .75rem; }
.btn-icon { padding: .5rem; border-radius: var(--radius-sm); min-width: 36px; min-height: 36px; }
.btn-full { width: 100%; }
.btn-gradient { background: linear-gradient(135deg, var(--primary), var(--accent)); color: #fff; border-color: transparent; }
.btn-gradient:hover { opacity: .9; transform: translateY(-1px); box-shadow: var(--shadow-md); }

/* — Cards — */
.card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius-md); padding: var(--s6);
  transition: box-shadow var(--t), transform var(--t);
}
.card:hover { box-shadow: var(--shadow-md); }
.card--hover:hover { transform: translateY(-3px); box-shadow: var(--shadow-lg); }
.card--flat { box-shadow: none; }
.card--glass {
  background: rgba(255,255,255,.6);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-color: rgba(255,255,255,.3);
}
[data-theme="dark"] .card--glass { background: rgba(30,41,59,.6); border-color: rgba(255,255,255,.08); }

/* — Badges — */
.badge {
  display: inline-flex; align-items: center; gap: .25rem;
  padding: .2rem .65rem; border-radius: var(--radius-full);
  font-size: .72rem; font-weight: 700; letter-spacing: .04em; white-space: nowrap;
}
.badge--blue   { background: var(--primary-light); color: var(--primary); }
.badge--purple { background: var(--accent-light); color: var(--accent); }
.badge--green  { background: var(--success-light); color: var(--success); }
.badge--yellow { background: var(--warning-light); color: #92400E; }
.badge--red    { background: var(--danger-light); color: var(--danger); }
.badge--gray   { background: var(--surface-2); color: var(--text-2); }
.badge--dark   { background: var(--gray-900); color: #fff; }

/* — Tags — */
.tag {
  display: inline-block; padding: .15rem .55rem; border-radius: var(--radius-sm);
  background: var(--surface-2); border: 1px solid var(--border);
  font-size: .72rem; font-weight: 500; color: var(--text-2);
}

/* — Form elements — */
.form-group { margin-bottom: var(--s4); }
.form-label { display: block; font-size: .8rem; font-weight: 600; color: var(--text-2); margin-bottom: var(--s2); }
.form-input, .form-select, .form-textarea {
  width: 100%; padding: .55rem .9rem; background: var(--surface);
  border: 1.5px solid var(--border); border-radius: var(--radius);
  color: var(--text); font-size: .875rem; transition: border-color var(--t), box-shadow var(--t);
  outline: none;
}
.form-input:focus, .form-select:focus, .form-textarea:focus {
  border-color: var(--primary); box-shadow: 0 0 0 3px rgba(var(--primary-rgb),.15);
}
.form-textarea { resize: vertical; min-height: 80px; }
.form-select { appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%2394A3B8'%3E%3Cpath d='M5.5 8L10 13l4.5-5H5.5z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right .75rem center; background-size: 16px; padding-right: 2.5rem; }

/* — Alerts — */
.alert {
  display: flex; align-items: flex-start; gap: .6rem;
  padding: .75rem 1rem; border-radius: var(--radius); font-size: .875rem; border-left: 3px solid;
}
.alert-success { background: var(--success-light); color: #065F46; border-color: var(--success); }
.alert-warning { background: var(--warning-light); color: #78350F; border-color: var(--warning); }
.alert-danger  { background: var(--danger-light); color: #7F1D1D; border-color: var(--danger); }
.alert-info    { background: var(--info-light); color: #0C4A6E; border-color: var(--info); }

/* — Tabs (filter & code viewer) — */
.tabs { display: flex; gap: .25rem; background: var(--surface-2); padding: .25rem; border-radius: var(--radius-md); width: fit-content; }
.tab-btn {
  padding: .45rem 1.1rem; border-radius: var(--radius); font-size: .8rem; font-weight: 600;
  color: var(--text-2); background: transparent; border: none; cursor: pointer; transition: all var(--t);
}
.tab-btn:hover { color: var(--text); }
.tab-btn.is-active { background: var(--surface); color: var(--primary); box-shadow: var(--shadow-sm); }

/* — Code Viewer — */
.code-viewer {
  background: #0D1117; border-radius: var(--radius-md);
  border: 1px solid #21262D; overflow: hidden; display: flex; flex-direction: column;
}
.code-viewer__header {
  display: flex; align-items: center; justify-content: space-between;
  padding: .6rem 1rem; background: #161B22; border-bottom: 1px solid #21262D;
}
.code-viewer__lang { font-family: var(--font-mono); font-size: .75rem; font-weight: 600; color: #64748B; text-transform: uppercase; }
.code-viewer__body {
  overflow-x: auto; overflow-y: auto; max-height: 480px;
  padding: 1.25rem 1rem;
}
.code-viewer__body pre { margin: 0; font-family: var(--font-mono); font-size: .8rem; line-height: 1.75; color: #E2E8F0; white-space: pre; }

/* Syntax highlighting */
.hl-tag     { color: #7EE787; }
.hl-attr    { color: #79C0FF; }
.hl-string  { color: #A5D6FF; }
.hl-comment { color: #8B949E; font-style: italic; }
.hl-doctype { color: #8B949E; }
.hl-kw      { color: #FF7B72; }
.hl-number  { color: #F2CC60; }
.hl-prop    { color: #79C0FF; }
.hl-value   { color: #A5D6FF; }
.hl-selector{ color: #7EE787; }
.hl-at      { color: #FF7B72; }

/* Line numbers */
.code-line  { display: flex; }
.line-num   { display: inline-block; min-width: 2.5rem; color: #484F58; text-align: right; padding-right: 1rem; user-select: none; font-size: .78rem; }

/* — Modal — */
.modal {
  display: none; position: fixed; inset: 0; z-index: var(--z-modal);
  align-items: center; justify-content: center; padding: var(--s4);
}
.modal.is-open { display: flex; }
.modal__backdrop {
  position: absolute; inset: 0; background: rgba(0,0,0,.55);
  backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
}
.modal__window {
  position: relative; background: var(--surface); border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl); width: 100%; max-height: 90vh; display: flex; flex-direction: column;
  animation: modalIn .22s ease;
}
.modal__window--sm { max-width: 420px; }
.modal__window--md { max-width: 680px; }
.modal__window--lg { max-width: 960px; }
.modal__window--xl { max-width: 1200px; width: 95vw; }
.modal__window--full { width: 95vw; height: 90vh; max-width: none; }
.modal__header { display: flex; align-items: center; justify-content: space-between; padding: var(--s5) var(--s6); border-bottom: 1px solid var(--border); }
.modal__title { font-size: 1.05rem; font-weight: 700; }
.modal__body  { padding: var(--s6); overflow-y: auto; flex: 1; }
.modal__footer { display: flex; align-items: center; justify-content: flex-end; gap: var(--s3); padding: var(--s4) var(--s6); border-top: 1px solid var(--border); }

/* — Toast — */
.toast-container {
  position: fixed; bottom: var(--s6); right: var(--s6); z-index: var(--z-toast);
  display: flex; flex-direction: column; gap: var(--s3); max-width: 360px;
}
.toast {
  display: flex; align-items: flex-start; gap: .6rem; padding: .85rem 1rem;
  background: var(--gray-900); color: #F1F5F9; border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg); font-size: .875rem; border-left: 3px solid transparent;
  transform: translateX(110%); transition: transform .3s cubic-bezier(.34,1.56,.64,1);
}
.toast--visible { transform: translateX(0); }
.toast--success { border-left-color: var(--success); }
.toast--error   { border-left-color: var(--danger); }
.toast--warning { border-left-color: var(--warning); }
.toast--info    { border-left-color: var(--info); }
.toast__icon { font-size: .9rem; margin-top: 1px; }
.toast__msg  { flex: 1; line-height: 1.4; }
.toast__close { color: var(--gray-400); font-size: .85rem; padding: .1rem .25rem; border-radius: 3px; }
.toast__close:hover { background: rgba(255,255,255,.1); }

/* ============================================================
   6. PLATFORM SECTIONS
   ============================================================ */

/* — Hero — */
.platform-hero {
  padding: var(--s24) 0 var(--s20);
  background: linear-gradient(160deg, #0B1120 0%, #111827 50%, #1A1040 100%);
  color: #fff; overflow: hidden; position: relative;
}
.platform-hero::before {
  content: ''; position: absolute; inset: 0;
  background: radial-gradient(ellipse 80% 60% at 50% -10%, rgba(37,99,235,.35), transparent);
  pointer-events: none;
}
.platform-hero__eyebrow { font-size: .8rem; font-weight: 700; letter-spacing: .1em; color: var(--primary); text-transform: uppercase; margin-bottom: var(--s4); }
.platform-hero__title { font-size: clamp(2.4rem, 6vw, 4.5rem); font-weight: 900; line-height: 1.07; letter-spacing: -.04em; color: #fff; margin-bottom: var(--s6); }
.platform-hero__title .gradient-text { background: linear-gradient(135deg, #60A5FA, #A78BFA); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.platform-hero__sub { font-size: 1.15rem; color: #94A3B8; max-width: 600px; line-height: 1.75; margin-bottom: var(--s10); }
.platform-hero__actions { display: flex; gap: var(--s4); flex-wrap: wrap; }
.platform-hero__stats { display: flex; gap: var(--s10); margin-top: var(--s12); flex-wrap: wrap; }
.hero-stat__val { font-size: 2rem; font-weight: 900; color: #fff; letter-spacing: -.04em; }
.hero-stat__label { font-size: .8rem; color: #64748B; margin-top: .2rem; }
.platform-hero__grid { display: none; }

/* — Section headers — */
.section-eyebrow { font-size: .75rem; font-weight: 700; letter-spacing: .1em; text-transform: uppercase; color: var(--primary); margin-bottom: var(--s3); }
.section-title { font-size: clamp(1.6rem, 3.5vw, 2.4rem); font-weight: 800; letter-spacing: -.04em; margin-bottom: var(--s4); }
.section-sub { font-size: 1.05rem; color: var(--text-2); max-width: 560px; line-height: 1.7; }

/* — Template Library — */
.tpl-filter-bar { display: flex; align-items: center; gap: var(--s3); flex-wrap: wrap; }
.tpl-filter-btn { padding: .4rem 1rem; border-radius: var(--radius-full); font-size: .8rem; font-weight: 600; color: var(--text-2); background: var(--surface); border: 1.5px solid var(--border); cursor: pointer; transition: all var(--t); }
.tpl-filter-btn:hover { border-color: var(--primary); color: var(--primary); }
.tpl-filter-btn.is-active { background: var(--primary); color: #fff; border-color: var(--primary); }

.tpl-search {
  position: relative; flex: 1; min-width: 200px; max-width: 320px;
}
.tpl-search input {
  width: 100%; padding: .45rem .9rem .45rem 2.4rem; background: var(--surface);
  border: 1.5px solid var(--border); border-radius: var(--radius-full); font-size: .85rem; color: var(--text); outline: none;
  transition: border-color var(--t);
}
.tpl-search input:focus { border-color: var(--primary); }
.tpl-search__icon { position: absolute; left: .75rem; top: 50%; transform: translateY(-50%); color: var(--text-3); font-size: .9rem; pointer-events: none; }

#template-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: var(--s6); }

/* Template card */
.tpl-card { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-lg); overflow: hidden; transition: box-shadow var(--t), transform var(--t); display: flex; flex-direction: column; }
.tpl-card:hover { box-shadow: var(--shadow-lg); transform: translateY(-4px); }
.tpl-card__thumb { height: 200px; background: var(--surface-2); display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative; }
.tpl-card__body { padding: var(--s5); display: flex; flex-direction: column; gap: var(--s3); flex: 1; }
.tpl-card__meta { display: flex; align-items: center; gap: var(--s2); }
.tpl-card__stack { font-size: .72rem; color: var(--text-3); margin-left: auto; }
.tpl-card__name { font-size: 1rem; font-weight: 800; letter-spacing: -.02em; }
.tpl-card__desc { font-size: .85rem; color: var(--text-2); line-height: 1.6; flex: 1; }
.tpl-card__tags { display: flex; gap: .35rem; flex-wrap: wrap; }
.tpl-card__actions { display: flex; gap: var(--s2); margin-top: auto; }
.tpl-card__actions .btn { flex: 1; }

.tpl-empty { grid-column: 1/-1; text-align: center; padding: var(--s16) 0; color: var(--text-3); }
.tpl-empty__icon { font-size: 3rem; margin-bottom: var(--s4); }
.tpl-empty__title { font-size: 1rem; font-weight: 600; color: var(--text-2); margin-bottom: var(--s2); }
.tpl-empty__sub { font-size: .875rem; }

/* Template thumbnails (CSS art) */
.thumb-landing, .thumb-dashboard, .thumb-blog, .thumb-portfolio, .thumb-ecommerce, .thumb-minimal {
  width: 100%; height: 100%; background: var(--bg); padding: 8px; display: flex; flex-direction: column; gap: 4px;
}
.thumb__nav { height: 12px; background: var(--surface); border-radius: 2px; border-bottom: 1px solid var(--border); }
.thumb__hero { height: 50px; background: linear-gradient(135deg, var(--primary), var(--accent)); border-radius: 3px; opacity: .9; }
.thumb__hero-sm { height: 35px; background: linear-gradient(135deg, var(--primary), var(--accent)); border-radius: 3px; opacity: .8; }
.thumb__grid { display: flex; gap: 3px; } .thumb__grid div { flex: 1; height: 40px; background: var(--surface); border: 1px solid var(--border); border-radius: 3px; }
.thumb__pricing { display: flex; gap: 3px; align-items: flex-end; } .thumb__pricing div { flex: 1; height: 50px; background: var(--surface); border: 1px solid var(--border); border-radius: 3px; } .thumb__pricing-feat { background: var(--primary) !important; border-color: var(--primary) !important; height: 65px !important; }
.thumb-dashboard { flex-direction: row !important; } .thumb__sidebar { width: 30px; background: var(--gray-900); border-radius: 2px; flex-shrink: 0; } .thumb__main { flex: 1; display: flex; flex-direction: column; gap: 4px; } .thumb__topbar { height: 10px; background: var(--surface); border-radius: 2px; } .thumb__stats { display: flex; gap: 3px; } .thumb__stats div { flex: 1; height: 22px; background: var(--primary); border-radius: 2px; opacity: .7; } .thumb__table { flex: 1; background: var(--surface); border-radius: 2px; }
.thumb__blog-layout { display: flex; gap: 4px; flex: 1; } .thumb__posts { flex: 2; display: flex; flex-direction: column; gap: 3px; } .thumb__posts div { flex: 1; background: var(--surface); border-radius: 2px; } .thumb__sidebar-sm { flex: 1; display: flex; flex-direction: column; gap: 3px; } .thumb__sidebar-sm div { flex: 1; background: var(--surface-2); border-radius: 2px; }
.thumb__avatar-hero { height: 40px; background: linear-gradient(135deg, #F59E0B, #EF4444); border-radius: 3px; }
.thumb__skills { display: flex; flex-direction: column; gap: 3px; } .thumb__skills div { height: 6px; background: var(--primary); border-radius: 3px; } .thumb__skills div:nth-child(2) { width: 75%; } .thumb__skills div:nth-child(3) { width: 60%; }
.thumb__shop-layout { display: flex; gap: 4px; flex: 1; } .thumb__filters-col { width: 25px; background: var(--surface-2); border-radius: 2px; } .thumb__products { flex: 1; display: grid; grid-template-columns: 1fr 1fr; gap: 3px; } .thumb__products div { background: var(--surface); border-radius: 2px; }
.thumb__nav-min { height: 8px; background: var(--surface); border-radius: 2px; } .thumb__center-block { height: 55px; background: linear-gradient(135deg, var(--primary), var(--accent)); border-radius: 3px; } .thumb__mini-feats { display: flex; gap: 3px; } .thumb__mini-feats div { flex: 1; height: 28px; background: var(--surface); border: 1px solid var(--border); border-radius: 3px; } .thumb__cta-block { height: 20px; background: var(--primary); border-radius: 3px; opacity: .8; }

/* — Creative Engine — */
.ce-layout {
  display: grid;
  grid-template-columns: var(--ce-palette-w) 1fr var(--ce-props-w);
  grid-template-rows: 1fr;
  height: 600px;
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  background: var(--surface);
}

.ce-panel {
  display: flex; flex-direction: column;
  border-right: 1px solid var(--border);
  overflow: hidden;
}
.ce-panel:last-child { border-right: none; border-left: 1px solid var(--border); }
.ce-panel__header {
  padding: .65rem 1rem; background: var(--surface-2);
  border-bottom: 1px solid var(--border); font-size: .75rem;
  font-weight: 700; color: var(--text-2); text-transform: uppercase; letter-spacing: .06em;
  display: flex; align-items: center; justify-content: space-between;
}
.ce-panel__body { flex: 1; overflow-y: auto; padding: .75rem; }

/* Palette */
.ce-palette__cat { font-size: .7rem; font-weight: 700; text-transform: uppercase; letter-spacing: .06em; color: var(--text-3); margin: .5rem 0 .35rem; }
.ce-block-item {
  display: flex; align-items: center; gap: .5rem;
  padding: .45rem .6rem; border-radius: var(--radius);
  border: 1px solid transparent; cursor: pointer; transition: all var(--t-fast);
  font-size: .82rem; color: var(--text-2); user-select: none;
}
.ce-block-item:hover { background: var(--primary-light); color: var(--primary); border-color: rgba(var(--primary-rgb),.2); }
.ce-block-item__icon { font-size: .95rem; width: 20px; text-align: center; }
.ce-block-item__name { flex: 1; font-weight: 500; }
.ce-block-item__add { margin-left: auto; padding: 0 .35rem; font-size: 1rem; font-weight: 700; color: var(--primary); opacity: 0; transition: opacity var(--t-fast); }
.ce-block-item:hover .ce-block-item__add { opacity: 1; }

/* Canvas */
.ce-canvas-block {
  display: flex; align-items: center; gap: .5rem;
  padding: .6rem .75rem; border-radius: var(--radius);
  border: 1.5px solid var(--border); margin-bottom: .4rem;
  background: var(--surface); transition: all var(--t-fast); cursor: pointer;
}
.ce-canvas-block:hover { border-color: var(--primary); }
.ce-canvas-block.is-selected { border-color: var(--primary); background: var(--primary-light); }
.ce-canvas-block__drag { color: var(--text-3); font-size: .8rem; cursor: grab; user-select: none; padding: 0 .2rem; }
.ce-canvas-block__info { flex: 1; display: flex; align-items: center; gap: .5rem; overflow: hidden; }
.ce-canvas-block__icon { font-size: .9rem; }
.ce-canvas-block__name { font-size: .82rem; font-weight: 600; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.ce-canvas-block__idx { font-size: .7rem; color: var(--text-3); margin-left: .25rem; }
.ce-canvas-block__controls { display: flex; gap: .2rem; }

.ce-ctrl-btn { padding: .2rem .4rem; border-radius: var(--radius-sm); font-size: .75rem; color: var(--text-3); transition: all var(--t-fast); }
.ce-ctrl-btn:hover { background: var(--surface-2); color: var(--text); }
.ce-ctrl-btn:disabled { opacity: .3; pointer-events: none; }
.ce-ctrl-btn--remove:hover { background: var(--danger-light); color: var(--danger); }
.ce-ctrl-btn--props:hover { background: var(--primary-light); color: var(--primary); }

.ce-empty { text-align: center; padding: var(--s12) var(--s6); color: var(--text-3); }
.ce-empty__icon { font-size: 2.5rem; margin-bottom: var(--s4); opacity: .5; }
.ce-empty p { font-size: .875rem; line-height: 1.6; }

/* Props panel */
.ce-props-header { display: flex; align-items: center; gap: .5rem; padding: .5rem 0 .75rem; border-bottom: 1px solid var(--border); margin-bottom: .75rem; font-size: .85rem; font-weight: 700; }
.ce-props-hint { font-size: .82rem; color: var(--text-3); padding: var(--s6) 0; text-align: center; line-height: 1.6; }
.ce-props-hint span { display: inline-block; background: var(--surface-2); border-radius: var(--radius-sm); padding: 0 .35rem; font-size: .9rem; }
.ce-field { margin-bottom: .6rem; }
.ce-field__label { display: block; font-size: .75rem; font-weight: 600; color: var(--text-2); margin-bottom: .25rem; }
.ce-field__input, .ce-field__textarea, .ce-field__select {
  width: 100%; padding: .4rem .65rem; background: var(--bg); border: 1.5px solid var(--border);
  border-radius: var(--radius); color: var(--text); font-size: .8rem; outline: none; transition: border-color var(--t);
}
.ce-field__input:focus, .ce-field__textarea:focus { border-color: var(--primary); }
.ce-field__textarea { resize: vertical; font-family: var(--font-mono); }
.ce-field--checkbox .ce-field__label { display: flex; align-items: center; gap: .4rem; cursor: pointer; }

/* Theme / Settings panels */
.ce-theme-grid { display: grid; grid-template-columns: 1fr 1fr; gap: .5rem; }
.ce-color-swatch { display: flex; flex-direction: column; gap: .25rem; }
.ce-color-swatch label { font-size: .72rem; color: var(--text-2); font-weight: 600; }
.ce-color-swatch input[type="color"] { width: 100%; height: 34px; border: 1.5px solid var(--border); border-radius: var(--radius); padding: 2px; cursor: pointer; background: var(--surface); }

/* Code output */
.ce-output { margin-top: var(--s8); }
.ce-output__header { display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--s4); flex-wrap: wrap; gap: var(--s3); }
.ce-output__tabs { display: flex; gap: .25rem; }
.ce-output__tab { padding: .4rem 1rem; border-radius: var(--radius); font-size: .8rem; font-weight: 600; color: var(--text-2); background: var(--surface-2); border: 1px solid var(--border); cursor: pointer; transition: all var(--t-fast); }
.ce-output__tab.is-active { background: var(--primary); color: #fff; border-color: var(--primary); }
.ce-output__actions { display: flex; gap: var(--s2); }

/* DSL Editor */
.dsl-editor-wrap { display: grid; grid-template-columns: 1fr 1fr; gap: var(--s6); }
.dsl-editor-wrap > div { display: flex; flex-direction: column; gap: var(--s3); }
#dsl-editor {
  flex: 1; min-height: 280px; background: #0D1117; color: #E2E8F0;
  border: 1px solid #21262D; border-radius: var(--radius-md);
  font-family: var(--font-mono); font-size: .82rem; line-height: 1.8;
  padding: 1rem; resize: none; outline: none;
  transition: border-color var(--t);
}
#dsl-editor:focus { border-color: var(--primary); }
#dsl-errors { background: var(--danger-light); color: var(--danger); border-radius: var(--radius); padding: .65rem .9rem; font-family: var(--font-mono); font-size: .8rem; display: none; white-space: pre-wrap; }

/* — Feature grid on platform homepage — */
.platform-features { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: var(--s6); }
.platform-feature { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-md); padding: var(--s5); }
.platform-feature__icon { font-size: 1.6rem; margin-bottom: var(--s3); }
.platform-feature__title { font-size: .95rem; font-weight: 700; margin-bottom: .35rem; }
.platform-feature__desc { font-size: .83rem; color: var(--text-2); line-height: 1.6; }

/* ============================================================
   7. UTILITIES
   ============================================================ */
.text-center  { text-align: center; }
.text-right   { text-align: right; }
.text-sm      { font-size: .875rem; }
.text-xs      { font-size: .75rem; }
.text-lg      { font-size: 1.125rem; }
.text-xl      { font-size: 1.25rem; }
.text-2xl     { font-size: 1.5rem; }
.text-3xl     { font-size: 1.875rem; }
.text-muted   { color: var(--text-2); }
.text-primary { color: var(--primary); }
.text-accent  { color: var(--accent); }
.text-success { color: var(--success); }
.text-danger  { color: var(--danger); }
.font-bold    { font-weight: 700; }
.font-black   { font-weight: 900; }
.fw-normal    { font-weight: 400; }
.leading-tight { line-height: 1.25; }
.leading-loose { line-height: 1.8; }
.tracking-wide { letter-spacing: .08em; }
.uppercase    { text-transform: uppercase; }

.bg-primary    { background: var(--primary); }
.bg-surface    { background: var(--surface); }
.bg-surface-2  { background: var(--surface-2); }
.bg-gradient   { background: linear-gradient(135deg, var(--primary), var(--accent)); }
.bg-dark       { background: var(--gray-900); }

.rounded    { border-radius: var(--radius); }
.rounded-md { border-radius: var(--radius-md); }
.rounded-lg { border-radius: var(--radius-lg); }
.rounded-full { border-radius: var(--radius-full); }

.border     { border: 1px solid var(--border); }
.border-top { border-top: 1px solid var(--border); }

.shadow     { box-shadow: var(--shadow); }
.shadow-md  { box-shadow: var(--shadow-md); }
.shadow-lg  { box-shadow: var(--shadow-lg); }

.w-full     { width: 100%; }
.h-full     { height: 100%; }
.min-h-screen { min-height: 100vh; }

.p-4  { padding: var(--s4); }  .p-5 { padding: var(--s5); }  .p-6  { padding: var(--s6); }
.px-4 { padding-left: var(--s4); padding-right: var(--s4); }
.py-4 { padding-top: var(--s4); padding-bottom: var(--s4); }
.py-8 { padding-top: var(--s8); padding-bottom: var(--s8); }

.mt-2 { margin-top: var(--s2); }  .mt-4 { margin-top: var(--s4); }  .mt-6 { margin-top: var(--s6); }  .mt-8 { margin-top: var(--s8); }
.mb-2 { margin-bottom: var(--s2); }  .mb-3 { margin-bottom: var(--s3); }  .mb-4 { margin-bottom: var(--s4); }  .mb-6 { margin-bottom: var(--s6); }  .mb-8 { margin-bottom: var(--s8); }  .mb-12 { margin-bottom: var(--s12); }
.mx-auto { margin-left: auto; margin-right: auto; }
.max-w-2xl { max-width: 42rem; } .max-w-3xl { max-width: 48rem; }

.relative { position: relative; }
.overflow-hidden { overflow: hidden; }
.hidden   { display: none; }
.block    { display: block; }
.inline-flex { display: inline-flex; }

/* Scroll-reveal */
[data-reveal] { opacity: 0; transform: translateY(18px); transition: opacity .6s ease, transform .6s ease; }
[data-reveal].revealed { opacity: 1; transform: none; }
[data-reveal][data-delay="100"] { transition-delay: .1s; }
[data-reveal][data-delay="200"] { transition-delay: .2s; }
[data-reveal][data-delay="300"] { transition-delay: .3s; }
[data-reveal][data-delay="400"] { transition-delay: .4s; }

/* ============================================================
   8. ANIMATIONS
   ============================================================ */
@keyframes modalIn {
  from { opacity: 0; transform: scale(.94) translateY(8px); }
  to   { opacity: 1; transform: none; }
}
@keyframes fadeIn  { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: none; } }
@keyframes pulse   { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
@keyframes spin    { to { transform: rotate(360deg); } }
@keyframes shimmer {
  from { background-position: -400px 0; }
  to   { background-position: 400px 0; }
}

.animate-fadeIn  { animation: fadeIn .4s ease; }
.animate-slideUp { animation: slideUp .5s ease; }
.animate-pulse   { animation: pulse 2s ease infinite; }
.animate-spin    { animation: spin 1s linear infinite; }

.skeleton {
  background: linear-gradient(90deg, var(--surface-2) 25%, var(--border) 50%, var(--surface-2) 75%);
  background-size: 400px 100%;
  animation: shimmer 1.4s ease infinite;
  border-radius: var(--radius);
}

/* Gradient text */
.gradient-text { background: linear-gradient(135deg, #60A5FA, #A78BFA); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.gradient-text-warm { background: linear-gradient(135deg, #F59E0B, #EF4444); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }

/* ============================================================
   9. MEDIA QUERIES
   ============================================================ */
@media (max-width: 1200px) {
  .grid-4 { grid-template-columns: repeat(2, 1fr); }
  .ce-layout { grid-template-columns: var(--ce-palette-w) 1fr; height: auto; }
  .ce-panel:last-child { display: none; }
  .dsl-editor-wrap { grid-template-columns: 1fr; }
}

@media (max-width: 1024px) {
  .grid-3 { grid-template-columns: repeat(2, 1fr); }
  #template-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
}

@media (max-width: 768px) {
  :root { --ce-palette-w: 200px; }
  .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
  .ce-layout { grid-template-columns: 1fr; height: auto; }
  .ce-panel { border-right: none; border-bottom: 1px solid var(--border); max-height: 260px; }
  .nav-menu { display: none; position: fixed; top: var(--nav-height); left: 0; right: 0; background: var(--surface); border-bottom: 1px solid var(--border); flex-direction: column; padding: var(--s4) var(--s6); gap: var(--s4); box-shadow: var(--shadow-lg); z-index: calc(var(--z-nav) - 1); }
  .nav-menu.is-open { display: flex; }
  .nav-toggle { display: flex; }
  .platform-hero { padding: var(--s16) 0 var(--s12); }
  .platform-hero__stats { gap: var(--s6); }
  .tpl-filter-bar { gap: var(--s2); }
}

@media (max-width: 480px) {
  .platform-hero__title { font-size: 2rem; }
  .tpl-card__actions { flex-wrap: wrap; }
  .modal__window { margin: var(--s4); width: calc(100% - var(--s8)); }
}
